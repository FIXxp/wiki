<!DOCTYPE html>
<html lang="ru-RU">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.41">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="/favicon.ico" type="image/x-icon"><link rel="shortcut icon" href="/favicon.ico"><meta name="theme-color" content="#6b72f2"><meta name="msapplication-TileColor" content="#6b72f2"><script type="text/javascript" async="">(function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})(window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");ym(86283189, "init", {clickmap:true,trackLinks:true,accurateTrackBounce:true,webvisor:true});</script><link rel="manifest" href="/manifest.webmanifest"><title>Подпись лаунчера | GravitLauncher Wiki</title><meta name="description" content="Подпись лаунчера">
    <link rel="modulepreload" href="/assets/app.749051e4.js"><link rel="modulepreload" href="/assets/sign.html.715077de.js"><link rel="modulepreload" href="/assets/sign.html.6def5f87.js"><link rel="prefetch" href="/assets/index.html.56a5bcc8.js"><link rel="prefetch" href="/assets/index.html.d363504a.js"><link rel="prefetch" href="/assets/index.html.11506fee.js"><link rel="prefetch" href="/assets/index.html.7d8dc5e2.js"><link rel="prefetch" href="/assets/index.html.dbdd37c5.js"><link rel="prefetch" href="/assets/auth.html.086cf834.js"><link rel="prefetch" href="/assets/beget.html.e7a7386c.js"><link rel="prefetch" href="/assets/changelog.html.77b1e325.js"><link rel="prefetch" href="/assets/clients.html.e8e88a79.js"><link rel="prefetch" href="/assets/commands.html.68ff6a98.js"><link rel="prefetch" href="/assets/configuration.html.2fcd0553.js"><link rel="prefetch" href="/assets/directory-structure.html.cbc6096a.js"><link rel="prefetch" href="/assets/getting-started.html.b06aa8e5.js"><link rel="prefetch" href="/assets/launchermodules.html.33cc4cdf.js"><link rel="prefetch" href="/assets/nginx.html.7ce9ea7a.js"><link rel="prefetch" href="/assets/runtime.html.d85d415b.js"><link rel="prefetch" href="/assets/servers.html.4e51b219.js"><link rel="prefetch" href="/assets/useful.html.092be2e4.js"><link rel="prefetch" href="/assets/index.html.c7085170.js"><link rel="prefetch" href="/assets/index.html.731ee595.js"><link rel="prefetch" href="/assets/index.html.fa0251bf.js"><link rel="prefetch" href="/assets/index.html.0b0facb2.js"><link rel="prefetch" href="/assets/index.html.fc8ec67d.js"><link rel="prefetch" href="/assets/auth.html.936f1049.js"><link rel="prefetch" href="/assets/changelog.html.d8f33c5e.js"><link rel="prefetch" href="/assets/clients.html.7ec4523e.js"><link rel="prefetch" href="/assets/commands.html.b60eb57f.js"><link rel="prefetch" href="/assets/configuration.html.9e93f5e1.js"><link rel="prefetch" href="/assets/directory-structure.html.abaabfc3.js"><link rel="prefetch" href="/assets/getting-started.html.1b621e58.js"><link rel="prefetch" href="/assets/launchermodules.html.a72c77be.js"><link rel="prefetch" href="/assets/nginx.html.04fcc060.js"><link rel="prefetch" href="/assets/runtime.html.c5e534d9.js"><link rel="prefetch" href="/assets/servers.html.c33fff57.js"><link rel="prefetch" href="/assets/sign.html.6f102e75.js"><link rel="prefetch" href="/assets/useful.html.c43302c4.js"><link rel="prefetch" href="/assets/404.html.fe4ecd7e.js"><link rel="prefetch" href="/assets/index.html.59e44495.js"><link rel="prefetch" href="/assets/index.html.abe4ea2e.js"><link rel="prefetch" href="/assets/index.html.ab4568de.js"><link rel="prefetch" href="/assets/index.html.6e269f4b.js"><link rel="prefetch" href="/assets/index.html.a5bfd9b7.js"><link rel="prefetch" href="/assets/auth.html.db60b3c9.js"><link rel="prefetch" href="/assets/beget.html.4e91468c.js"><link rel="prefetch" href="/assets/changelog.html.15848ac0.js"><link rel="prefetch" href="/assets/clients.html.6e755632.js"><link rel="prefetch" href="/assets/commands.html.8cfc7fdf.js"><link rel="prefetch" href="/assets/configuration.html.3e78399c.js"><link rel="prefetch" href="/assets/directory-structure.html.29c7b917.js"><link rel="prefetch" href="/assets/getting-started.html.2ff33e61.js"><link rel="prefetch" href="/assets/launchermodules.html.1a482230.js"><link rel="prefetch" href="/assets/nginx.html.bfef851c.js"><link rel="prefetch" href="/assets/runtime.html.57bedce5.js"><link rel="prefetch" href="/assets/servers.html.e1b7632f.js"><link rel="prefetch" href="/assets/useful.html.77177ca1.js"><link rel="prefetch" href="/assets/index.html.b50152a1.js"><link rel="prefetch" href="/assets/index.html.5f698ee4.js"><link rel="prefetch" href="/assets/index.html.63e81fd7.js"><link rel="prefetch" href="/assets/index.html.cd68e078.js"><link rel="prefetch" href="/assets/index.html.46e70296.js"><link rel="prefetch" href="/assets/auth.html.8f16643e.js"><link rel="prefetch" href="/assets/changelog.html.af95258c.js"><link rel="prefetch" href="/assets/clients.html.9bc038fb.js"><link rel="prefetch" href="/assets/commands.html.e7e69bd3.js"><link rel="prefetch" href="/assets/configuration.html.995b0127.js"><link rel="prefetch" href="/assets/directory-structure.html.cde701b4.js"><link rel="prefetch" href="/assets/getting-started.html.6af27887.js"><link rel="prefetch" href="/assets/launchermodules.html.2353ac66.js"><link rel="prefetch" href="/assets/nginx.html.cda1d52c.js"><link rel="prefetch" href="/assets/runtime.html.6d593d3d.js"><link rel="prefetch" href="/assets/servers.html.27770caa.js"><link rel="prefetch" href="/assets/sign.html.a56e3b2f.js"><link rel="prefetch" href="/assets/useful.html.ccaeef95.js"><link rel="prefetch" href="/assets/404.html.c185079c.js"><link rel="prefetch" href="/assets/404.090cd9fa.js"><link rel="prefetch" href="/assets/Layout.cb076639.js">
    <link rel="stylesheet" href="/assets/style.57c42415.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><img class="logo" src="/logo.avif" alt="GravitLauncher Wiki"><span class="site-name can-hide">GravitLauncher Wiki</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a class="external-link" href="https://vdsina.ru/?partner=f15513zd48" rel="noopener noreferrer" target="_blank" aria-label="VDS для лаунчера"><!--[--><!--]--> VDS для лаунчера <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://discord.com/invite/b9QG4ygY75" rel="noopener noreferrer" target="_blank" aria-label="Discord"><!--[--><!--]--> Discord <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/GravitLauncher/Launcher" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" placeholder="Поиск" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a class="external-link" href="https://vdsina.ru/?partner=f15513zd48" rel="noopener noreferrer" target="_blank" aria-label="VDS для лаунчера"><!--[--><!--]--> VDS для лаунчера <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://discord.com/invite/b9QG4ygY75" rel="noopener noreferrer" target="_blank" aria-label="Discord"><!--[--><!--]--> Discord <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/GravitLauncher/Launcher" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading">Руководство <!----></p><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a href="/install/" class="sidebar-item" aria-label="Установка LaunchServer"><!--[--><!--]--> Установка LaunchServer <!--[--><!--]--></a><!----></li><li><a href="/auth/" class="sidebar-item" aria-label="Настройка авторизации"><!--[--><!--]--> Настройка авторизации <!--[--><!--]--></a><!----></li><li><a href="/clientbuild/" class="sidebar-item" aria-label="Настройка клиента"><!--[--><!--]--> Настройка клиента <!--[--><!--]--></a><!----></li><li><a href="/servers/" class="sidebar-item" aria-label="Привязка сервера Minecraft"><!--[--><!--]--> Привязка сервера Minecraft <!--[--><!--]--></a><!----></li><li><a href="/other/" class="sidebar-item" aria-label="Другие настройки"><!--[--><!--]--> Другие настройки <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><p tabindex="0" class="sidebar-item sidebar-heading">Для продвинутых <!----></p><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a href="/dev/" class="sidebar-item" aria-label="Разработчикам"><!--[--><!--]--> Разработчикам <!--[--><!--]--></a><!----></li><li><a href="/runtime/" class="sidebar-item" aria-label="Настройка рантайма"><!--[--><!--]--> Настройка рантайма <!--[--><!--]--></a><!----></li><li><a href="/modules/" class="sidebar-item" aria-label="Модули"><!--[--><!--]--> Модули <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><p tabindex="0" class="sidebar-item sidebar-heading">Полезный материал <!----></p><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a href="/guide/useful.html" class="sidebar-item" aria-label="Полезные файлы"><!--[--><!--]--> Полезные файлы <!--[--><!--]--></a><!----></li><li><a href="/guide/changelog.html" class="sidebar-item" aria-label="Список изменений"><!--[--><!--]--> Список изменений <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="подпись-лаунчера" tabindex="-1"><a class="header-anchor" href="#подпись-лаунчера" aria-hidden="true">#</a> Подпись лаунчера</h1><h2 id="где-взять-сертификат" tabindex="-1"><a class="header-anchor" href="#где-взять-сертификат" aria-hidden="true">#</a> Где взять сертификат?</h2><ul><li>Сгенерировать самому себе самоподписанный сертификат(например с помощью GenerateCertificateModule или по инструкциям ниже)</li><li>Попросить сертификат у того, кто уже настроил грамотно свой СА и может подписывать другие сертификаты</li><li>Создать CSR, и передать его человеку, который его подпишет</li><li>Можно отдавать каждый билд лаунчера человеку, имеющему сертификат, но не являющийся СА, на подпись.</li><li>Можно купить сертификат для подписи лаунчера у официальных СА (очень дорого)</li></ul><h2 id="подпись-jar" tabindex="-1"><a class="header-anchor" href="#подпись-jar" aria-hidden="true">#</a> Подпись jar</h2><h3 id="требования" tabindex="-1"><a class="header-anchor" href="#требования" aria-hidden="true">#</a> Требования</h3><ul><li>Версия 5.1.0+</li><li>Сертификат</li></ul><h3 id="конфигурация" tabindex="-1"><a class="header-anchor" href="#конфигурация" aria-hidden="true">#</a> Конфигурация</h3><div class="code-group"><div class="code-group__nav"><ul class="code-group__ul"><li class="code-group__li"><button class="code-group__nav-tab code-group__nav-tab-active" ariapressed="true" ariaexpanded="true">PKCS12</button></li><li class="code-group__li"><button class="code-group__nav-tab" ariapressed="false" ariaexpanded="false">JKS</button></li></ul></div><!--[--><div class="code-group-item code-group-item__active" aria-selected="true"><!--[--><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token property">&quot;sign&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;enabled&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">&quot;keyStore&quot;</span><span class="token operator">:</span> <span class="token string">&quot;MyKeyStore.p12&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;keyStoreType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;PKCS12&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;keyStorePass&quot;</span><span class="token operator">:</span> <span class="token string">&quot;mypass&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;keyAlias&quot;</span><span class="token operator">:</span> <span class="token string">&quot;myname&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;keyPass&quot;</span><span class="token operator">:</span> <span class="token string">&quot;mypass&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;metaInfKeyName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SIGNUMO.RSA&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;metaInfSfName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SIGNUMO.SF&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;signAlgo&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SHA256WITHRSA&quot;</span>
  <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><!--]--></div><div class="code-group-item code-group-item__active" aria-selected="true"><!--[--><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token property">&quot;sign&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;enabled&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">&quot;keyStore&quot;</span><span class="token operator">:</span> <span class="token string">&quot;MyKeyStore.p12&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;keyStoreType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;JKS&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;keyStorePass&quot;</span><span class="token operator">:</span> <span class="token string">&quot;mypass&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;keyAlias&quot;</span><span class="token operator">:</span> <span class="token string">&quot;myname&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;keyPass&quot;</span><span class="token operator">:</span> <span class="token string">&quot;mypass&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;metaInfKeyName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SIGNUMO.RSA&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;metaInfSfName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SIGNUMO.SF&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;signAlgo&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SHA256WITHRSA&quot;</span>
  <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><!--]--></div><!--]--></div><h4 id="описания-конфигурации" tabindex="-1"><a class="header-anchor" href="#описания-конфигурации" aria-hidden="true">#</a> Описания конфигурации</h4><p><code>enabled</code> - Включить подпись своим сертификатом<br><code>keyStore</code> - Путь к хранилищу ключей<br><code>keyStoreType</code> - Тип хранилища<br><code>keyStorePass</code> - Пароль от хранилища<br><code>keyAlias</code> - Key Alias<br><code>keyPass</code> - Пароль от ключа, может не совпадать с storepass<br><code>signAlgo</code> - Алгоритм подписи</p><h2 id="подпись-exe" tabindex="-1"><a class="header-anchor" href="#подпись-exe" aria-hidden="true">#</a> Подпись exe</h2><p><a href="https://github.com/GravitLauncher/LauncherModules/tree/master/OpenSSLSignCode_module" target="_blank" rel="">Модуль OpenSSLSignCode<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> позволяет подписывать <strong>Launcher.exe</strong> своим сертификатом используя утилиту osslsigncode.</p><h3 id="установка-модуля" tabindex="-1"><a class="header-anchor" href="#установка-модуля" aria-hidden="true">#</a> Установка модуля</h3><ol><li>Скопировать модуль <strong>OpenSSLSignCode_module.jar</strong> в папку <strong>/LaunchServer/modules/</strong>.</li><li>Обязательно создать самоподписанный сертификат или купить его. <ul><li>В конфигурации <strong>LaunchServer.json</strong> <code>&quot;sign&quot;: { &quot;enabled&quot;: true }</code>.</li></ul></li><li>Установленная программа <strong>osslsigncode</strong>.</li></ol><div class="code-group"><div class="code-group__nav"><ul class="code-group__ul"><li class="code-group__li"><button class="code-group__nav-tab code-group__nav-tab-active" ariapressed="true" ariaexpanded="true">Debian-подобные системы</button></li><li class="code-group__li"><button class="code-group__nav-tab" ariapressed="false" ariaexpanded="false">CentOS</button></li></ul></div><!--[--><div class="code-group-item code-group-item__active" aria-selected="true"><!--[--><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> osslsigncode
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><!--]--></div><div class="code-group-item" aria-selected="false"><!--[--><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> /etc/yum.repos.d/
<span class="token function">wget</span> https://download.opensuse.org/repositories/home:danimo/CentOS_7/home:danimo.repo
yum <span class="token function">install</span> osslsigncode calc
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><!--]--></div><!--]--></div><ol><li>Выполнить <strong>build</strong> в консоли <em>LaunchServer</em>, если всё сделали правильно, <strong>exe</strong> будет подписан сертификатом.</li></ol><h3 id="конфигурация-1" tabindex="-1"><a class="header-anchor" href="#конфигурация-1" aria-hidden="true">#</a> Конфигурация</h3><p>Путь: <code>/LaunchServer/config/OSSLSignCode/Config.json</code></p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;timestampServer&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://timestamp.globalsign.com/scripts/timstamp.dll&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;osslsigncodePath&quot;</span><span class="token operator">:</span> <span class="token string">&quot;osslsigncode&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;customArgs&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;checkSignSize&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;checkCorrectSign&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;checkCorrectJar&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="команды" tabindex="-1"><a class="header-anchor" href="#команды" aria-hidden="true">#</a> Команды</h3><p>Подписывает exe, созданный с помощью launch4j вручную</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>osslsignexe [path to input exe] [path to output exe]
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="замечания" tabindex="-1"><a class="header-anchor" href="#замечания" aria-hidden="true">#</a> Замечания</h3><ul><li>Иногда вы можете получать ошибку о несоответствии размера подписи. Это происходит из за <em>timestamp server</em>, так как нельзя заранее угадать совпадет ли размер подписи в первом вызове и во втором. Если это вас беспокоит вы можете отключить использование <code>timestampServer</code> путем удаление этой строчки из конфигурации.</li></ul><h2 id="получение-своего-сертификата" tabindex="-1"><a class="header-anchor" href="#получение-своего-сертификата" aria-hidden="true">#</a> Получение своего сертификата</h2><h3 id="создание-самоподписаного-codesign-сертификата" tabindex="-1"><a class="header-anchor" href="#создание-самоподписаного-codesign-сертификата" aria-hidden="true">#</a> Создание самоподписаного CodeSign сертификата</h3><p>Вы не хотите ни от кого зависить и полностью владеть всей цепочкой сертификатов? Тогда вам сюда. В этом разделе мы создадим базовую цепочку сертификатов с одним СА и одним конечным сертификатом. Этого хватит что бы подписать JAR и EXE лаунчера и пройти проверки</p><p>Создавать мы будем с помощью утилиты <a href="https://github.com/chris2511/xca/releases" target="_blank" rel="">XCA<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>. Выбирайте последний релиз, качаете, устанавливаете</p><ol><li>Создайте базу данных. При создании базы данных обязательно задайте пароль и сохраните/запишите его в безопасное место. Старайтесь придерживаться правил безопастности - это доступ к всем вашим сертификатам.</li><li>Перейдите во вкладку &quot;Сертификаты&quot; и нажмите кнопку &quot;Новый сертификат&quot;</li><li>Во вкладке &quot;Субьект&quot; укажите поле commonName - например &quot;SuperCraft Root CA&quot;. Рекомендуется ввести имя, заканчивающиеся на &quot;Root CA&quot; - так будет проще и вам, и всем остальным кто будет смотреть ваш сертификат</li><li>В той же вкладке &quot;Субъект&quot; внизу нажмите на кнопку &quot;Сгенерировать новый ключ&quot;. Тип ключа - RSA, длинна ключа - 4096 бит. Нажмите &quot;Создать&quot;</li><li>В вкладке &quot;Расширения&quot; выберите &quot;тип&quot; - &quot;Центр Сертификации&quot;, в графе &quot;Выбор периода&quot; укажите от 1 до 10 лет и нажмите кнопку &quot;Применить&quot;, после чего дата окончания должна сдвинуться на указанное вами число лет</li><li>В вкладке &quot;Область приминения ключа&quot; в первой колонке укажите &quot;Digitial Signature&quot; и &quot;Certificate Sign&quot;, во второй &quot;Code Signing&quot;, больше ничего в этой вкладке менять не нужно</li><li>В вкладке &quot;Netscape&quot; если что либо написано в поле &quot;Netscape Comment&quot; - уберите</li><li>После чего если вы уверены в веденных параметрах можно нажать &quot;ОК&quot;. Вы создали корневой сертификат!</li><li>Экспортируем корневой сертификат. Для этого выберите свежесозданный сертификат и нажмите кнопку &quot;Экспорт&quot;. Формат экспорта - &quot;PEM (.crt)&quot;, файл куда экспортировать выберите сами на свое усмотрение. Нажимаете кнопку &quot;ОК&quot;</li><li>Далее вам нужно создать конечный сертификат, которым вы будете подписывать лаунчер(JAR и/или EXE). Нажимаете &quot;Новый сертификат&quot;</li><li>В Вкладке &quot;Первоисточник&quot; должен быть выбран &quot;Использовать этот сертификат для подписи&quot; где должен быть указан ваш Root CA, созданный на предыдущем этапе</li><li>В вкладке &quot;Субъект&quot; укажите поле commonName - например &quot;SuperCraft Code Sign&quot;. Рекомендуется ввести имя, заканчивающиеся на &quot;Code Sign&quot; - так будет проще и вам, и всем остальным кто будет смотреть ваш сертификат</li><li>В той же вкладке &quot;Субъект&quot; внизу нажмите на кнопку &quot;Сгенерировать новый ключ&quot;. Тип ключа - RSA, длинна ключа - 2048 бит. Нажмите &quot;Создать&quot;</li><li>В вкладке &quot;Расширения&quot; выберите &quot;тип&quot; - &quot;Конечный субъект&quot;, в графе &quot;Выбор периода&quot; укажите от 1 до 10 лет и нажмите кнопку &quot;Применить&quot;, после чего дата окончания должна сдвинуться на указанное вами число лет. Обратите внимание - срок действия конечного сертификата не может быть больше срока действия вашего Root CA. Меньше можно, больше - нет</li><li>Все прочие настройки аналогичны. В вкладке &quot;Область приминения ключа&quot; в первой колонке укажите &quot;Digitial Signature&quot;(и не указывайте Certificate Sign), во второй &quot;Code Signing&quot;, больше ничего в этой вкладке менять не нужно. В вкладке &quot;Netscape&quot; если что либо написано в поле &quot;Netscape Comment&quot; - уберите. После чего если вы уверены в веденных параметрах можно нажать &quot;ОК&quot;</li><li>Вы создали конечный сертификат! Осталось этот сертификат экспортировать. Выберите ваш &quot;Code Sign&quot; сертификат и нажмите кнопку &quot;Экспорт&quot;. Формат экспорта - &quot;Цепочка PKCS12&quot;, месторасположение выбирайте сами. Введите пароль, которым будет зашифрован ваш .p12 контейнер. Пароль не должен совпадать с паролем от вашей базы данных, это небезопасно. Именно этот пароль вы будете указывать в конфигурации при подписи Всё! Уже можно пользоваться. Файл **_Root_CA.crt(ваш корневой сертификат) скопируйте в папку truststore лаунчсервера. При желании установите его в ваш ПК как доверенный центр сертификации. А дальше можете настраивать подпись JAR/EXE уже своим сертификатом</li></ol><h3 id="создание-самоподписаного-ca" tabindex="-1"><a class="header-anchor" href="#создание-самоподписаного-ca" aria-hidden="true">#</a> Создание самоподписаного CA</h3><p>Хотите почувствовать себя настоящим экспертом? Что бы всё выглядело максимально правдоподобно и серьезно? Хотите не только подписывать JAR/EXE, а вообще что угодно где используются сертификаты? Тогда вам сюда. Вам понадобится всё тот же <a href="https://github.com/chris2511/xca/releases" target="_blank" rel="">XCA<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><ol><li>Начнем с самого важного - ключа вашего центрального Root CA сертификата. Создайте базу данных XCA прямо на флешке и сгенерируйте ключ RSA с длинной не менее 4096 бит. После чего приступайте к созданию Root CA сертификата. В разделе &quot;Субъект&quot; укажите все основные параметры, исключая emailAddress, что бы всё выглядело серьезно. На дополнительные параметры можно забить в этой вкладке, они не нужны. В разделе &quot;Расширения&quot; укажите тип - &quot;Центр сертификации&quot;, срок действия минимум 5 лет. &quot;Область приминения ключа&quot; - &quot;Certificate Sign&quot; и &quot;CRL Sign&quot;, всё остальное без изменений. В разделе &quot;Netscape&quot; всё можно оставить пустым</li><li>Дальше создайте в той же базе данных &quot;дополнительный&quot; CA с настройками как у Root CA, а в имени либо номер, либо год. Единственное отличие в &quot;Расширения&quot; в поле &quot;X.509v3 CRL&quot; укажите URL на ваш сайт, где будет находится центральный CRL(например https://ca.example.com/root.crl). Этот СА вы будете использовать вместо центрального Root CA для создания других сертификатов. После чего экспортируйте ключ и сам сертификат дополнительного СА а так же только сертификат Root CA. Ключ Root CA не должен покидать пределы флешки. Дальше я для удобства будут называть этот CA - &quot;2020 CA&quot;</li><li>Создайте CRL root.crl используя ваш Root CA(ПКМ-&gt;ЦС-&gt;Сгенерировать CRL) и экспортируйте его. Потом вы его зальете себе на сайт по тому URL что указали выше, когда генерировали 2020 CA</li><li>Сохраните эту базу данных на еще одну флешку, CD диск, что угодно что будет не подключено к вашему ПК физически(а значит и ключ Root CA будет в безопастности) и что внезапно сразу не сломается</li><li>Создайте новю базу данных уже в другом месте(к примеру на вашем жестком диске) куда импортируйте сертификат Root CA, сертификат 2020 CA и ключ 2020 CA. Дальше вы будете работать только с этой базой.</li><li>Создайте CA, который будет служить определенной цели, например &quot;Code Sign RSA CA&quot;, указав в качестве CRL что то вроде https://ca.example.com/2020.crl . Все CA, созданные с помощью 2020 CA будут использовать этот CRL URL. Есстественно заполняя все необходимые поля</li><li>Сгенерируйте CRL для 2020 CA(https://ca.example.com/2020.crl) и всех специализированных CA(https://ca.example.com/2020/codesign.crl). Потом вы зальете их на сайт по тому URL что указали</li><li>И вот теперь можете создавать конечные сертификаты. Бывает нужно указать какой то особый OID, которого нет в GUI. Тогда вы идете в Дополнительно-&gt;Редактировать и там вы можете указать любые параметры, которые можно указать в конфигурации OpenSSL. К примеру добавить кастомные extendedKeyUsage</li></ol><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Последнее обновление: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 41650742+FIXxp@users.noreply.github.com">FIXxp</span><!----><!--]--><!--]--></span></div></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app.749051e4.js" defer></script>
  </body>
</html>
